    this.el = document.getElementById('user');
    this.user = [ {nama:"Tiger Nixon", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Tiger Nixon", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Garrett Winters", posisi:"Accountant", office:"Tokyo",age:63,start:"2011/07/25",salary:"$170,750"},
    {nama:"Garrett Winters", posisi:"Accountant", office:"Tokyo",age:63,start:"2011/07/25",salary:"$170,750"},
    {nama:"Ashton Cox", posisi:"Junior Technical Author", office:"San Francisco",age:66,start:"2009/01/12",salary:"$86,000"},
    {nama:"Ashton Cox", posisi:"Junior Technical Author", office:"San Francisco",age:66,start:"2009/01/12",salary:"$86,000"},
    {nama:"Cedric Kelly", posisi:"Senior Javascript Developer", office:"Edinburgh",age:22,start:"2012/03/29",salary:"$433,060"},
    {nama:"Cedric Kelly", posisi:"Senior Javascript Developer", office:"Edinburgh",age:22,start:"2012/03/29",salary:"$433,060"},
    {nama:"Anton", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Anton", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Airi Satou", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Airi Satou", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Brielle Williamson", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Rhona Davidson", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Herrod Chandler", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Rhona Davidson", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Brielle Williamson", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Herrod Chandler", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Colleen Hurst", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Sonya Frost", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Jena Gaines", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Sonya Frost", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Quinn Flynn", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Jena Gaines", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Quinn Flynn", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Colleen Hurst", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Tiger Nixon", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Tiger Nixon", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Tiger Nixon", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Tiger Nixon", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Tiger Nixon", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Tiger Nixon", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Garrett Winters", posisi:"Accountant", office:"Tokyo",age:63,start:"2011/07/25",salary:"$170,750"},
    {nama:"Garrett Winters", posisi:"Accountant", office:"Tokyo",age:63,start:"2011/07/25",salary:"$170,750"},
    {nama:"Ashton Cox", posisi:"Junior Technical Author", office:"San Francisco",age:66,start:"2009/01/12",salary:"$86,000"},
    {nama:"Ashton Cox", posisi:"Junior Technical Author", office:"San Francisco",age:66,start:"2009/01/12",salary:"$86,000"},
    {nama:"Cedric Kelly", posisi:"Senior Javascript Developer", office:"Edinburgh",age:22,start:"2012/03/29",salary:"$433,060"},
    {nama:"Cedric Kelly", posisi:"Senior Javascript Developer", office:"Edinburgh",age:22,start:"2012/03/29",salary:"$433,060"},
    {nama:"Anton", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Anton", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Airi Satou", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Airi Satou", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Brielle Williamson", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Rhona Davidson", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Herrod Chandler", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Rhona Davidson", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Brielle Williamson", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Herrod Chandler", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Colleen Hurst", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Sonya Frost", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Jena Gaines", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Sonya Frost", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Quinn Flynn", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Jena Gaines", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Quinn Flynn", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Colleen Hurst", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Tiger Nixon", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Tiger Nixon", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Tiger Nixon", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"},
    {nama:"Tiger Nixon", posisi:"System Architect", office:"Edinburgh",age:61,start:"2011/04/25",salary:"$320,800"}];

    this.Count = function(data) {
    const el = document.getElementById('counter');
    let name = 'user';
    if (data) {
        if (data > 1) {
            name = '<b>user</b>';
        }
        el.innerHTML = data + ' ' + name ;
        } else {
        el.innerHTML = 'No ' + name;
        }
    };
        
    this.FetchAll = function() {
        let data = "";
        if (this.user.length > 0) {
            for (i = 0; i < this.user.length; i++) {
                data += '<tr>';
                data += '<td>' + this.user[i].nama + '</td>';
                data += '<td>' + this.user[i].posisi + '</td>';
                data += '<td>' + this.user[i].office + '</td>';
                data += '<td>' + this.user[i].age + '</td>';
                data += '<td>' + this.user[i].start + '</td>';
                data += '<td>' + this.user[i].salary + '</td>';
                data += '<td><button class="btn btn-info" onclick="Edit(' + i + ')">Edit</button></td>';
                data += '<td><button class="btn btn-danger" onclick="Delete(' + i + ')">Delete</button></td>';
                data += '</tr>';
            }
        }
        this.Count(this.user.length);
        return this.el.innerHTML = data;
    };
    const add = document.querySelector('#addButton');
    const save = document.querySelector('#saveButton');

    add.addEventListener('click', function (e) {
    const table = document.querySelector('table > tbody');
            table.innerHTML = `
            <tr>
                <td><input type="text" id="add-name" placeholder="Nama" value="nama"></td>
                <td><input type="text" id="posisi" placeholder="Position" value="posisi"></td>
                <td><input type="text" id="office" placeholder="Office" value="office"></td>
                <td><input type="text" id="age" placeholder="Age" value="age"></td>
                <td><input type="text" id="start" placeholder="YYYY/MM/DD" value="YYYY/MM/DD"></td>
                <td><input type="text" id="salary" placeholder="Salary" value="salary"></td>
                <td><button class="w3-button w3-green rad" id="saveButton" onclick="Add()">Save</button></td>
            </tr>`+table.innerHTML;
    });
    
    // save.addEventListener('click', this.Add);
        
        this.Add = function () {
        el1 = document.getElementById('add-name');
        el2 = document.getElementById('posisi');
        el3 = document.getElementById('office');
        el4 = document.getElementById('age');
        el5 = document.getElementById('start');
        el6 = document.getElementById('salary');
        // Get the value
        const name = el1.value;
        const posisi = el2.value;
        const office = el3.value;
        const age = el4.value;
        const start = el5.value;
        const salary = el6.value;
        console.log(name);
        console.log(posisi);
        console.log(office);
        console.log(age);
        console.log(start);
        console.log(salary);
        const obj = {nama: ""+name+"", posisi:""+posisi+"", office:""+office+"",age:age,start:""+start+"",salary:"$"+salary+""};
        if (name && posisi && office && age && start && salary) {
            // Add the new value
            this.user.push(obj);
            // Reset input value
            el.value = "";
            // Dislay the new list
            this.FetchAll();
        }
    };
        
    this.Edit = function (item) {
        const el1 = document.getElementById('edit-name');
        const el2 = document.getElementById('edit-posisi');
        const el3 = document.getElementById('edit-office');
        const el4 = document.getElementById('edit-age');
        const el5 = document.getElementById('edit-start');
        const el6 = document.getElementById('edit-salary');
        // Display value in the field
        el1.value = this.user[item].nama;
        el2.value = this.user[item].posisi;
        el3.value = this.user[item].office;
        el4.value = this.user[item].age;
        el5.value = this.user[item].start;
        el6.value = this.user[item].salary;
        // Display fields
        document.getElementById('spoiler').style.display = 'block';
        self = this;
        document.getElementById('saveEdit').onsubmit = function() {
            // Get value
            const name = el1.value;
            const posisi = el2.value;
            const office = el3.value;
            const age = el4.value;
            const start = el5.value;
            const salary = el6.value;
            const obj = {nama: ""+name+"", posisi:""+posisi+"", office:""+office+"",age:age,start:""+start+"",salary:"$"+salary+""};
            if (name && posisi && office && age && start && salary) {
                // Edit value
                self.user.splice(item, 1, obj);
                // Display the new list
                self.FetchAll();
                // Hide fields
                CloseInput();
            }
        }
    };
        
    this.Delete = function (item) {
        // Delete the current row
        this.user.splice(item, 1);
        // Display the new list
        this.FetchAll();
    };

function init(){
    FetchAll();
}

init();
function CloseInput() {
    document.getElementById('spoiler').style.display = 'none';
}
